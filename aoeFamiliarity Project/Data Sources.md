# Data Sources

Part of [[aoeFamiliarity Project]] | See also: [[Key Variables]]

## Primary Data Files

| File | Format | Records | Key Fields | Notes |
|------|--------|---------|-----------|-------|
| `long_matches.parquet` | Parquet | 10.5M player-matches | match_id, player_id, team_id, win, mode, p_solo_elo, team_fam_score | RAW team games (2v2, 3v3, 4v4) |
| `long_matches_spec.parquet` | Parquet | 10.5M player-matches | + spec_log_exp_map_type, spec_log_exp_p_civilization | With specialization metrics |
| `flat_matches.csv` | CSV | 2.16M matches | match_id, t0_p0_id, t1_p0_id, t0_p0_solo_elo, winner | 1v1 matches for [[1v1 Falsification Test]] |
| `COGpreprocessed_df.parquet` | Parquet | 9.3M player-matches | selo (std), team_player_effect (std), fam_std | STANDARDIZED -- avoid for upstream |

## Derived Data (Generated by Pipeline)

| File | Purpose | Created By |
|------|---------|------------|
| `match_data_estimation.parquet` | TPE estimation (50%) | `01_data_prep.py` |
| `match_data_validation.parquet` | Out-of-sample validation (50%) | `01_data_prep.py` |
| `tpe_v12_raw_elo.csv` | TPE estimates | `02_upstream_final.py` |
| `test_df_res.csv` | Legacy TPE estimates | Legacy pipeline |

## Data Volumes

- **1v1 matches:** 2.16M
- **Team game player-matches:** 10.5M
- **Unique players with TPE:** 137,412
- **Date range:** Dec 6, 2019 -- Dec 12, 2023
- **APM data coverage:** 78,079 matches (from July 18, 2020 onwards)

## Data Split Strategy

The full team match dataset is split 50/50 randomly:
- **Estimation sample:** Used exclusively for [[Three-Stage Pipeline]] Stage 1 (upstream TPE estimation)
- **Validation sample:** Used exclusively for downstream validation and all reported results

This prevents data leakage and ensures out-of-sample validity.

## File Location

All raw data is stored in `/aoeFamiliarity/data/` (44 files total, 10GB+). Large parquet files are excluded from git tracking via `.gitignore`.
